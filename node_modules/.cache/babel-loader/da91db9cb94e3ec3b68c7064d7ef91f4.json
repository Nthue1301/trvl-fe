{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\Travel\\\\trvl-fe\\\\src\\\\features\\\\container\\\\trangchu\\\\tourtrongnuoc\\\\Tourtrongnuoc.js\",\n    _s = $RefreshSig$();\n\nimport { Rate, Spin, Tooltip } from \"antd\";\nimport { getDate } from \"date-fns\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport \"./Tour.css\";\n\nfunction Tourtrongnuoc(props) {\n  _s();\n\n  const tours = useSelector(state => state.tours.tour.data);\n  const tour = [];\n\n  const formatdate = e => {\n    if (e) {\n      var ngay = e.substr(0, 2);\n      var thang = e.substr(3, 2);\n      var nam = e.substr(6, 4);\n      return nam + '-' + thang + '-' + ngay;\n    }\n  };\n\n  const maxDate = e => {\n    if (e) {\n      var ngayMax = formatdate(e[0].ngay);\n\n      for (let i = 0; i < e.length; i++) {\n        if (ngayMax <= formatdate(e[i].ngay)) {\n          ngayMax = formatdate(e[i].ngay);\n        }\n      }\n\n      return ngayMax;\n    }\n  };\n\n  if (tours) {\n    var sort = [];\n\n    for (let i = 0; i < tours.length; i++) {\n      sort.unshift(tours[i]);\n    }\n\n    var date = new Date();\n    var today = date.getFullYear() + \"-\" + (date.getMonth() + 1 > 10 ? date.getMonth() + 1 : \"0\" + (date.getMonth() + 1)) + \"-\" + (date.getDate() > 10 ? date.getDate() : \"0\" + date.getDate());\n\n    for (let i = 0; i < sort.length; i++) {\n      if (sort[i].status === 1 && sort[i].vitri === 1 && tour.length < 6 && maxDate(sort[i].Ngaydis) >= today) {\n        tour.push(sort[i]);\n      }\n    }\n  }\n\n  const binhluans = useSelector(state => state.binhluans.binhluan.data);\n\n  const tinhdiem = id => {\n    var binhluanload = [];\n\n    if (binhluans) {\n      for (let i = 0; i < binhluans.length; i++) {\n        if (binhluans[i].status === +1 && binhluans[i].tourId === id) {\n          binhluanload.push(binhluans[i]);\n        }\n      }\n    }\n\n    var tong = new Number();\n\n    if (binhluans) {\n      for (let i = 0; i < binhluanload.length; i++) {\n        tong += binhluanload[i].star;\n      }\n    }\n\n    var diem = Math.round(tong / +binhluanload.length * 10) / 10;\n\n    if (isNaN(diem)) {\n      diem = 0;\n    }\n\n    return diem;\n  };\n\n  const tinhkhuyenmai = (money, km) => {\n    return (money - money * (km / 100)).toLocaleString();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-5 mb-5 tour \",\n    id: \"tour\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"heading text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"du l\\u1ECBch trong n\\u01B0\\u1EDBc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-4\",\n        children: \"Du l\\u1ECBch trong n\\u01B0\\u1EDBc lu\\xF4n l\\xE0 l\\u1EF1a ch\\u1ECDn tuy\\u1EC7t v\\u1EDDi. H\\xE3y \\u0111\\u1EBFn v\\u1EDBi ch\\xFAng t\\xF4i \\u0111\\u1EC3 \\u0111\\u01B0\\u1EE3c h\\u01B0\\u1EDFng nh\\u1EEFng \\u01B0u \\u0111\\xE3i t\\u1ED1t nh\\u1EA5t\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: tour.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spin\",\n          children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 32\n        }, this) : tour.map(ok => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 mb-2\",\n          children: [ok.Khuyenmais.length === 0 ? \"\" : ok.Khuyenmais[0].status === 0 ? \"\" : /*#__PURE__*/_jsxDEV(Tooltip, {\n            placement: \"right\",\n            color: \"#0abf55\",\n            title: ok.Khuyenmais[0].name,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ribbon-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ribbon-red\",\n                children: [\"Gi\\u1EA3m \", ok.Khuyenmais[0].khuyenmai, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/tour/${ok.id}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"img rounded\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: ok.avatar,\n                className: \"img-fluid\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content_tour\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"title_tour text-capitalize\",\n                children: ok.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"star float-left\",\n                children: /*#__PURE__*/_jsxDEV(Rate, {\n                  value: tinhdiem(ok.id),\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"money float-left ml-3 text-warning\",\n                children: ok.Khuyenmais.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [ok.gianguoilon.toLocaleString(), \" VN\\u0110\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 66\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 25\n                }, this) : ok.Khuyenmais[0].status === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [ok.gianguoilon.toLocaleString(), \" VN\\u0110\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 68\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [tinhkhuyenmai(ok.gianguoilon, ok.Khuyenmais[0].khuyenmai), \" VN\\u0110\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 92\n                  }, this), /*#__PURE__*/_jsxDEV(\"del\", {\n                    children: [\" \", ok.gianguoilon.toLocaleString(), \" VN\\u0110\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this)]\n        }, ok.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"xem-them mt-3\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/list-tour\",\n        children: \"Xem Th\\xEAm >>\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Tourtrongnuoc, \"G9x5FG5Y3x8Dh2boaqfmmoF+QdE=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Tourtrongnuoc;\nTourtrongnuoc.propTypes = {};\nexport default Tourtrongnuoc;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tourtrongnuoc\");","map":{"version":3,"sources":["E:/Travel/trvl-fe/src/features/container/trangchu/tourtrongnuoc/Tourtrongnuoc.js"],"names":["Rate","Spin","Tooltip","getDate","React","useSelector","Link","Tourtrongnuoc","props","tours","state","tour","data","formatdate","e","ngay","substr","thang","nam","maxDate","ngayMax","i","length","sort","unshift","date","Date","today","getFullYear","getMonth","status","vitri","Ngaydis","push","binhluans","binhluan","tinhdiem","id","binhluanload","tourId","tong","Number","star","diem","Math","round","isNaN","tinhkhuyenmai","money","km","toLocaleString","map","ok","Khuyenmais","name","khuyenmai","avatar","gianguoilon","propTypes"],"mappings":";;;;;AAAA,SAASA,IAAT,EAAeC,IAAf,EAAqBC,OAArB,QAAoC,MAApC;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,YAAP;;AACA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAC5B,QAAMC,KAAK,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACD,KAAN,CAAYE,IAAZ,CAAiBC,IAA3B,CAAzB;AACA,QAAMD,IAAI,GAAG,EAAb;;AACA,QAAME,UAAU,GAAGC,CAAC,IAAI;AACtB,QAAIA,CAAJ,EAAO;AACL,UAAIC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAX;AACA,UAAIC,KAAK,GAAGH,CAAC,CAACE,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAZ;AACA,UAAIE,GAAG,GAAGJ,CAAC,CAACE,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAV;AACA,aAAOE,GAAG,GAAG,GAAN,GAAYD,KAAZ,GAAoB,GAApB,GAA0BF,IAAjC;AACD;AACF,GAPD;;AAQA,QAAMI,OAAO,GAAGL,CAAC,IAAI;AACnB,QAAIA,CAAJ,EAAO;AACL,UAAIM,OAAO,GAAGP,UAAU,CAACC,CAAC,CAAC,CAAD,CAAD,CAAKC,IAAN,CAAxB;;AACA,WAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,CAAC,CAACQ,MAAtB,EAA8BD,CAAC,EAA/B,EAAmC;AACjC,YAAID,OAAO,IAAIP,UAAU,CAACC,CAAC,CAACO,CAAD,CAAD,CAAKN,IAAN,CAAzB,EAAsC;AACpCK,UAAAA,OAAO,GAAGP,UAAU,CAACC,CAAC,CAACO,CAAD,CAAD,CAAKN,IAAN,CAApB;AACD;AACF;;AACD,aAAOK,OAAP;AACD;AACF,GAVD;;AAWA,MAAIX,KAAJ,EAAW;AACT,QAAIc,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,KAAK,CAACa,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCE,MAAAA,IAAI,CAACC,OAAL,CAAaf,KAAK,CAACY,CAAD,CAAlB;AACD;;AACD,QAAII,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,QAAIC,KAAK,GAAGF,IAAI,CAACG,WAAL,KAAqB,GAArB,IAA6BH,IAAI,CAACI,QAAL,KAAkB,CAAnB,GAAwB,EAAxB,GAA6BJ,IAAI,CAACI,QAAL,KAAkB,CAA/C,GAAoD,OAAOJ,IAAI,CAACI,QAAL,KAAkB,CAAzB,CAAhF,IAAgH,GAAhH,IAAuHJ,IAAI,CAACtB,OAAL,KAAiB,EAAjB,GAAsBsB,IAAI,CAACtB,OAAL,EAAtB,GAAwC,MAAMsB,IAAI,CAACtB,OAAL,EAArK,CAAZ;;AACA,SAAK,IAAIkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,IAAI,CAACD,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,UAAIE,IAAI,CAACF,CAAD,CAAJ,CAAQS,MAAR,KAAmB,CAAnB,IAAwBP,IAAI,CAACF,CAAD,CAAJ,CAAQU,KAAR,KAAkB,CAA1C,IAA+CpB,IAAI,CAACW,MAAL,GAAc,CAA7D,IAAkEH,OAAO,CAACI,IAAI,CAACF,CAAD,CAAJ,CAAQW,OAAT,CAAP,IAA4BL,KAAlG,EAAyG;AACvGhB,QAAAA,IAAI,CAACsB,IAAL,CAAUV,IAAI,CAACF,CAAD,CAAd;AACD;AACF;AACF;;AACD,QAAMa,SAAS,GAAG7B,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACwB,SAAN,CAAgBC,QAAhB,CAAyBvB,IAAnC,CAA7B;;AACA,QAAMwB,QAAQ,GAAIC,EAAD,IAAQ;AACvB,QAAIC,YAAY,GAAG,EAAnB;;AACA,QAAIJ,SAAJ,EAAe;AACb,WAAK,IAAIb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGa,SAAS,CAACZ,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC,YAAIa,SAAS,CAACb,CAAD,CAAT,CAAaS,MAAb,KAAwB,CAAC,CAAzB,IAA8BI,SAAS,CAACb,CAAD,CAAT,CAAakB,MAAb,KAAwBF,EAA1D,EAA8D;AAC5DC,UAAAA,YAAY,CAACL,IAAb,CAAkBC,SAAS,CAACb,CAAD,CAA3B;AACD;AACF;AACF;;AACD,QAAImB,IAAI,GAAG,IAAIC,MAAJ,EAAX;;AACA,QAAIP,SAAJ,EAAe;AACb,WAAK,IAAIb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiB,YAAY,CAAChB,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5CmB,QAAAA,IAAI,IAAIF,YAAY,CAACjB,CAAD,CAAZ,CAAgBqB,IAAxB;AACD;AACF;;AACD,QAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAYL,IAAI,GAAG,CAACF,YAAY,CAAChB,MAAtB,GAAgC,EAA3C,IAAiD,EAA5D;;AACA,QAAIwB,KAAK,CAACH,IAAD,CAAT,EAAiB;AACfA,MAAAA,IAAI,GAAG,CAAP;AACD;;AACD,WAAOA,IAAP;AACD,GApBD;;AAqBA,QAAMI,aAAa,GAAG,CAACC,KAAD,EAAQC,EAAR,KAAe;AACnC,WAAO,CAAED,KAAD,GAAYA,KAAD,IAAWC,EAAE,GAAG,GAAhB,CAAZ,EAAmCC,cAAnC,EAAP;AACD,GAFD;;AAGA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,EAAE,EAAC,MAApC;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAOE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA,kBACGvC,IAAI,CAACW,MAAL,KAAgB,CAAhB,gBAAoB;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,iCAAsB,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAtB;AAAA;AAAA;AAAA;AAAA,gBAApB,GACCX,IAAI,CAACwC,GAAL,CAASC,EAAE,iBACT;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,qBACGA,EAAE,CAACC,UAAH,CAAc/B,MAAd,KAAyB,CAAzB,GAA6B,EAA7B,GACC8B,EAAE,CAACC,UAAH,CAAc,CAAd,EAAiBvB,MAAjB,KAA4B,CAA5B,GAAgC,EAAhC,gBACE,QAAC,OAAD;AAAS,YAAA,SAAS,EAAC,OAAnB;AAA2B,YAAA,KAAK,EAAC,SAAjC;AAA2C,YAAA,KAAK,EAAEsB,EAAE,CAACC,UAAH,CAAc,CAAd,EAAiBC,IAAnE;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,YAAf;AAAA,yCAAkCF,EAAE,CAACC,UAAH,CAAc,CAAd,EAAiBE,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAHN,eASE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAG,SAAQH,EAAE,CAACf,EAAG,EAAzB;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACE;AAAK,gBAAA,GAAG,EAAEe,EAAE,CAACI,MAAb;AAAqB,gBAAA,SAAS,EAAC,WAA/B;AAA2C,gBAAA,GAAG,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAK,cAAA,SAAS,EAAC,cAAf;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,4BAAf;AAAA,0BAA6CJ,EAAE,CAACE;AAAhD;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAA,uCACE,QAAC,IAAD;AAAM,kBAAA,KAAK,EAAElB,QAAQ,CAACgB,EAAE,CAACf,EAAJ,CAArB;AAA8B,kBAAA,QAAQ;AAAtC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAFF,eAKE;AAAK,gBAAA,SAAS,EAAC,oCAAf;AAAA,0BACGe,EAAE,CAACC,UAAH,CAAc/B,MAAd,KAAyB,CAAzB,gBACC;AAAA,6BACI8B,EAAE,CAACK,WAAJ,CAAiBP,cAAjB,EADH,4BACyC;AAAA;AAAA;AAAA;AAAA,0BADzC;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,GAICE,EAAE,CAACC,UAAH,CAAc,CAAd,EAAiBvB,MAAjB,KAA4B,CAA5B,gBACE;AAAA,6BACIsB,EAAE,CAACK,WAAJ,CAAiBP,cAAjB,EADH,4BACyC;AAAA;AAAA;AAAA;AAAA,0BADzC;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,gBAKE;AAAA,6BACGH,aAAa,CAACK,EAAE,CAACK,WAAJ,EAAiBL,EAAE,CAACC,UAAH,CAAc,CAAd,EAAiBE,SAAlC,CADhB,4BACiE;AAAA;AAAA;AAAA;AAAA,0BADjE,eAEE;AAAA,oCAAQH,EAAE,CAACK,WAAJ,CAAiBP,cAAjB,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAVN;AAAA;AAAA;AAAA;AAAA,sBALF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF;AAAA,WAAoCE,EAAE,CAACf,EAAvC;AAAA;AAAA;AAAA;AAAA,gBADF;AAFJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAPF,eAoDE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YApDF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA2DD;;GAvHQ9B,a;UACOF,W,EAkCIA,W;;;KAnCXE,a;AAyHTA,aAAa,CAACmD,SAAd,GAA0B,EAA1B;AAIA,eAAenD,aAAf","sourcesContent":["import { Rate, Spin, Tooltip } from \"antd\";\r\nimport { getDate } from \"date-fns\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Tour.css\";\r\nfunction Tourtrongnuoc(props) {\r\n  const tours = useSelector(state => state.tours.tour.data);\r\n  const tour = [];\r\n  const formatdate = e => {\r\n    if (e) {\r\n      var ngay = e.substr(0, 2)\r\n      var thang = e.substr(3, 2)\r\n      var nam = e.substr(6, 4)\r\n      return nam + '-' + thang + '-' + ngay;\r\n    }\r\n  }\r\n  const maxDate = e => {\r\n    if (e) {\r\n      var ngayMax = formatdate(e[0].ngay)\r\n      for (let i = 0; i < e.length; i++) {\r\n        if (ngayMax <= formatdate(e[i].ngay)) {\r\n          ngayMax = formatdate(e[i].ngay)\r\n        }\r\n      }\r\n      return ngayMax\r\n    }\r\n  }\r\n  if (tours) {\r\n    var sort = []\r\n    for (let i = 0; i < tours.length; i++) {\r\n      sort.unshift(tours[i])\r\n    }\r\n    var date = new Date();\r\n    var today = date.getFullYear() + \"-\" + ((date.getMonth() + 1) > 10 ? date.getMonth() + 1 : (\"0\" + (date.getMonth() + 1))) + \"-\" + (date.getDate() > 10 ? date.getDate() : (\"0\" + date.getDate()));\r\n    for (let i = 0; i < sort.length; i++) {\r\n      if (sort[i].status === 1 && sort[i].vitri === 1 && tour.length < 6 && maxDate(sort[i].Ngaydis) >= today) {\r\n        tour.push(sort[i])\r\n      }\r\n    }\r\n  }\r\n  const binhluans = useSelector(state => state.binhluans.binhluan.data);\r\n  const tinhdiem = (id) => {\r\n    var binhluanload = []\r\n    if (binhluans) {\r\n      for (let i = 0; i < binhluans.length; i++) {\r\n        if (binhluans[i].status === +1 && binhluans[i].tourId === id) {\r\n          binhluanload.push(binhluans[i]);\r\n        }\r\n      }\r\n    }\r\n    var tong = new Number()\r\n    if (binhluans) {\r\n      for (let i = 0; i < binhluanload.length; i++) {\r\n        tong += binhluanload[i].star\r\n      }\r\n    }\r\n    var diem = Math.round((tong / +binhluanload.length) * 10) / 10\r\n    if (isNaN(diem)) {\r\n      diem = 0\r\n    }\r\n    return diem\r\n  }\r\n  const tinhkhuyenmai = (money, km) => {\r\n    return ((money) - ((money) * (km / 100))).toLocaleString()\r\n  }\r\n  return (\r\n    <div className=\"mt-5 mb-5 tour \" id=\"tour\">\r\n      <div className=\"heading text-center\">\r\n        <span>du lịch trong nước</span>\r\n        <div className=\"hr\"></div>\r\n        <p className=\"mb-4\">\r\n          Du lịch trong nước luôn là lựa chọn tuyệt vời. Hãy đến với chúng tôi để được hưởng những ưu đãi tốt nhất</p>\r\n      </div>\r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-center\">\r\n          {tour.length === 0 ? <div className=\"spin\"><Spin /></div> :\r\n            tour.map(ok => (\r\n              <div className=\"col-md-4 mb-2\" key={ok.id}>\r\n                {ok.Khuyenmais.length === 0 ? \"\" :\r\n                  ok.Khuyenmais[0].status === 0 ? \"\" :\r\n                    <Tooltip placement=\"right\" color=\"#0abf55\" title={ok.Khuyenmais[0].name}>\r\n                      <div className=\"ribbon-wrapper\">\r\n                        <div className=\"ribbon-red\">Giảm {ok.Khuyenmais[0].khuyenmai}%</div>\r\n                      </div>\r\n                    </Tooltip>\r\n                }\r\n                <Link to={`/tour/${ok.id}`}>\r\n                  <div className=\"img rounded\">\r\n                    <img src={ok.avatar} className=\"img-fluid\" alt=\"\" />\r\n                  </div>\r\n                  <div className=\"content_tour\">\r\n                    <div className=\"title_tour text-capitalize\">{ok.name}</div>\r\n                    <div className=\"star float-left\">\r\n                      <Rate value={tinhdiem(ok.id)} disabled />\r\n                    </div>\r\n                    <div className=\"money float-left ml-3 text-warning\">\r\n                      {ok.Khuyenmais.length === 0 ?\r\n                        <div>\r\n                          {(ok.gianguoilon).toLocaleString()} VNĐ<br />\r\n                        </div> :\r\n                        ok.Khuyenmais[0].status === 0 ?\r\n                          <div>\r\n                            {(ok.gianguoilon).toLocaleString()} VNĐ<br />\r\n                          </div>\r\n                          :\r\n                          <div>\r\n                            {tinhkhuyenmai(ok.gianguoilon, ok.Khuyenmais[0].khuyenmai)} VNĐ<br />\r\n                            <del> {(ok.gianguoilon).toLocaleString()} VNĐ</del>\r\n                          </div>\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"xem-them mt-3\">\r\n        <Link to=\"/list-tour\">Xem Thêm &gt;&gt;</Link>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nTourtrongnuoc.propTypes = {\r\n\r\n}\r\n\r\nexport default Tourtrongnuoc"]},"metadata":{},"sourceType":"module"}